<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NW4R664');</script>
    <!-- End Google Tag Manager -->
</head>
<psk-page title="Anchoring API">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NW4R664"
                      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <psk-highlight type-of-highlight="note">
        The Anchoring, component of PSK API HUB, is linked with the Brick Storage component as it allows the association of
        a set of brick hashes to a unique identifier called <code>anchor</code>. As explained in the description of the
        <psk-link page="apis/brick-storage">Brick Storage</psk-link>
        component,
        a brick is stored on the PSK API HUB in a file whose name is the cryptographic hash of its content. As the
        data in a brick corresponds to a block
        of data in a file, any change to that block of data will lead to the creation of a new brick. The Anchoring
        component allows the grouping of
        different bricks that correspond to different versions of the same block inside a file under the same <code>anchor</code>.
        Anchoring aims to facilitate the creation of blockchain platforms that support multiple blockchains and even more it should
        support heterogeneous blockchains (blockchains with different capabilities and different security models)
    </psk-highlight>

    <psk-toc title="Table of contents"></psk-toc>
    <psk-chapter title="add anchor">
        <psk-card title="Syntax">
            Associates an anchor to a keySSI.
            <psk-list list-type="unordered">
                <psk-card title="URL">
                    <code>/anchor/add/:keySSI</code>
                </psk-card>
                <psk-card title="Method">
                    <code>PUT</code>
                </psk-card>
                <psk-card title="URL Params">
                    <psk-code language="JavaScript">
                        // base58 encoded key identifier
                        keyssi = [alphanumeric]
                    </psk-code>
                </psk-card>
                <psk-card title="Data Params">
                    Content-Type: <code>application/json</code><br>
                    Content: <code>anchor</code>
                </psk-card>
                <psk-card title="Body">
                    <psk-code language="JavaScript">{ 
                        hash: {
                            // hashLinkSSI identifier
                            last: [hashLinkSSI],
                            // hashLinkSSI identifier
                            new: [hashLinkSSI]
                        },
                        zkpValue: [string],
                        digitalProof: [string]
                    }</psk-code>
                </psk-card>
                <psk-card title="Success Response">
                    Code: <code>200 OK</code><br>
                    Content: <code>None</code>
                </psk-card>
            </psk-list>
        </psk-card>
        <psk-card title="Description">

        </psk-card>
        <psk-card title="Example">

        </psk-card>
    </psk-chapter>

    <psk-chapter title="get versions">
        Retrieves a list of hashes, corresponding to different versions of a file associated with an anchor.
        <psk-card title="Syntax">
            <psk-list list-type="unordered">
                <psk-card title="URL">
                    <code>/anchor/versions/:keySSI</code>
                </psk-card>
                <psk-card title="Method">
                    <code>GET</code>
                </psk-card>
                <psk-card title="URL Params">
                    <psk-code language="JavaScript">
                        // base58 encoded key identifier
                        keyssi = [alphanumeric]
                    </psk-code>
                </psk-card>
                <psk-card title="Data Params">
                    <code>None</code>
                </psk-card>
                <psk-card title="Success Response">
                    Code: <code>200 OK</code><br>
                    Content-Type: <code>application/json</code><br>
                    Content: <code>brick hashes</code>
                </psk-card>
                <psk-card title="Error Response">
                    Code: <code>404</code><br>
                    Reason: The anchor does not exist.
                </psk-card>
            </psk-list>
        </psk-card>
        <psk-card title="Description">

        </psk-card>
        <psk-card title="Example">

        </psk-card>
    </psk-chapter>
</psk-page>